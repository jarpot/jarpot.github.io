<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //获取cookie 拿到的是由所有cookie信息组成的字符串
        //name=张三; age=18; address=火星
        /*
        原生的cookie对前端人员很不友好，获取cookie值的时候一下子把所有的cookie信息给获取出来，
        如果需要其中的某一个具体的值，需要进行相对应的js进行拆分
        */
        // var cook = document.cookie;//name=张三; age=18; address=火星
        //提取特定的 cookie值
        //var cookArr = cook.split('; ');
        //console.log(cookArr);
        /* for(var i in cookArr){
            console.log(cookArr[i]);
            if(cookArr[i].includes('address')){
                console.log( cookArr[i].substring( cookArr[i].indexOf('=')+1 ));
            }
        } */
        //方法二：
        /* for (var i in cookArr) {
            //把cookie中的每一个数据都再次进行分隔  此时得到的所有数组都是长度为2的数组
            var cArr = cookArr[i].split('=');
            //'name=张三'  ['name','张三']
            if (cArr[0] == 'address') {
                console.log(cArr[1]);
            }
        } */

        //封装函数
        /*
            封装的三要素：
                函数名   getCookie();
                参数列表  name
                返回值    name对应的 value
        */
        function getCookie(n) {
            var cook = document.cookie;
            var cookArr = cook.split('; ');
            for (var i in cookArr) {
                //把cookie中的每一个数据都再次进行分隔  此时得到的所有数组都是长度为2的数组
                var cArr = cookArr[i].split('=');
                //'name=张三'  ['name','张三']
                if (cArr[0] == n) {
                    return cArr[1];
                }
            }
        }
        console.log(getCookie(null));
        //封装设置cookie
        //函数名  setCookie()
        //参数列表 k  ,v  ,time
        function setCookie(k, v, t) {
            //获取当前系统时间对象
            var date = new Date();
            //把当前的 日  加上传入的参数  就是 cookie的有效时间
            var time = date.getDate() + t;
            //把新的天数重新设置到 date日期对象中
            date.setDate(time);
            //给cookie设置 有效时间 
            document.cookie = k + '=' + v + ';expires=' + date;
        }
        //调用
        setCookie('qq', '12345678', 2);

        function removeCookie(k){
            var date = new Date();
            //把当前的 日  加上传入的参数  就是 cookie的有效时间
            var time = date.getDate() - 1;
            //把新的天数重新设置到 date日期对象中
            date.setDate(time);
            document.cookie = k+"=;expires="+date;
        }
        removeCookie('qq');
    </script>
</body>

</html>