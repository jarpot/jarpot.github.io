<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- <h1>你好哈哈哈</h1> -->
    用户：<input type="text" id="uname" /><br>
    密码：<input type="password" id="pword"><br>
    <button onclick="sub()">点我提交</button>
    <h1>==============================普通的表单提交==================================</h1>
    <!-- 如果是form表单直接提交 你要确保  每一个输入框的 name属性要跟后台人员提供的属性名 保持一致 -->
    <form action="http://127.0.0.1:8088/aaa/login" method="post">
        用户：<input type="text" name="username" /><br>
        密码：<input type="password" name="password"><br>
        <input type="submit" value="提交"/>
    </form>
    <script>
        function sub() {
            /**
             * 1.创建请求对象
             * 2.建立连接 （跟服务器的连接）
             * 3.发送请求
             * 4.接收响应
             */
            //1.创建请求对象
            var ajax_obj = new XMLHttpRequest() || new ActiveXObject(Microsoft.XMLHTTP);
            //2.建立连接 （跟服务器的连接）
            /*
                ajax_obj.open(请求的方式,请求的路径,同步/异步);
                    请求的方式  get/post
                    请求的路径  URL  http://IP地址:端口号/资源路径?参数
                    同步/异步： 默认为true  异步   false  同步
            */
            //发送的get请求
            ajax_obj.open("GET", "http://127.0.0.1:8088/aaa/login?username="+uname.value+"&password="+pword.value,false);
            //3.发送请求
            ajax_obj.send();

            //发送 post请求
            //ajax_obj.open("POST", "http://127.0.0.1:8088/aaa/login",true);
            //ajax_obj.send("username="+uname.value+"&password="+pword.value);
            //4.接收响应
            /* ajax_obj.onreadystatechange = function(){
                //console.log(ajax_obj.readyState);请求过程中的所有的状态码的变化  0 1 2 3 4
                if(ajax_obj.readyState==4){
                    if(ajax_obj.status==200){
                        console.log(ajax_obj.responseText);
                    }
                }
            } */
            //把json格式的字符串转换成json对象
            //方式一：
            //var jsonObj = JSON.parse(ajax_obj.responseText);
            //方式二：
            var jsonObj = eval('('+ajax_obj.responseText+')');
            console.log(jsonObj.code);
            console.log(jsonObj.msg);
        }

    </script>
</body>

</html>