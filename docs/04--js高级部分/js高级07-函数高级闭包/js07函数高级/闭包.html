<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //通过函数外部去操作函数内部的变量
        //闭包就是 让函数外部去操作函数内部的变量。
        function fn1(){
            var c = '你好';
            var a = 10;
            function fn2(){
                a++;
                console.log(a);
                //return a;
            }
            return fn2;
        }
        var f = fn1();
        //console.log(f);====>fn2();
        f();//a = 11
        f();//a = 12 
        //手动清除闭包。 把它的指向变成null  这样就会导致 f本身指向的空间，没有变量去占用了。就会触发GC。
        //f = null; 
        f();//a = 13
        //过程中产生了几次闭包？ 1次  因为 非fn1只调用了一次 空间只开辟一次  a
        

        //var b = fn1();
        //console.log(b);

        /* function aaa(){
            var a = 10;
            console.log(a);//10
        }
        console.log(a);//undefined  因为函数的作用域链问题导致 函数的外部无法访问 到函数内部的数据。
        js的执行机制：决定了函数内部的数据 在函数执行完毕后会自动销毁。
        aaa(); */
    </script>
</body>
</html>