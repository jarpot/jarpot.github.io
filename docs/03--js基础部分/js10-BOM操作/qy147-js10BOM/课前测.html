<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<input type="checkbox" id="checkAll" onclick="chkAll(this)"><br>
		<input type="checkbox" class="son" onclick="aaa()">
		<input type="checkbox" class="son" onclick="aaa()">
		<input type="checkbox" class="son" onclick="aaa()">
		<a href="history.html">点我</a>
		<script type="text/javascript">
			/**
			 * 全选
			 * 反选
			 */
			function chkAll(inp){
				//1.先获取下边的所有复选框
				var sonArr = document.getElementsByClassName("son");
				//2.循环遍历所有的复选框，让下边每一个复选框的 checked值 ==  checkAll复选框的值
				for(var i=0;i<sonArr.length;i++){
					sonArr[i].checked = inp.checked;
				}
			}
			
			var a = 5;
			function aaa(){
				//1.先获取下边的所有复选框
				var sonArr = document.getElementsByClassName("son");
				var state = false;//假设没有未被选中的
				for(var j=0;j<sonArr.length;j++){
					if(sonArr[j].checked==false){
						state = true;
						break;
					}
				}
				
				if(state==true){
					checkAll.checked = false;
				}else{
					checkAll.checked = true;
				}
				
			}
			
		</script>
	</body>
</html>
